<div class="custom-tour-request container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="page-header mb-5 text-center">
        <h1>{{ page.title }}</h1>
        <p class="lead">{{ page.content }}</p>
      </div>
      
      <div class="request-form card shadow">
        <div class="card-body p-4 p-md-5">
          <h2 class="card-title mb-4">Request Your Custom Tour</h2>
          
          <form id="customTourForm" class="needs-validation" novalidate>
            <div class="row g-4">
              <!-- Personal Information -->
              <div class="col-md-6">
                <label for="name" class="form-label">Your Name</label>
                <input type="text" class="form-control" id="name" required>
              </div>
              
              <div class="col-md-6">
                <label for="email" class="form-label">Email Address</label>
                <input type="email" class="form-control" id="email" required>
              </div>
              
              <!-- Trip Information -->
              <div class="col-md-6">
                <label for="destination" class="form-label">Destination</label>
                <input type="text" class="form-control" id="destination">
              </div>
              
              <div class="col-md-6">
                <label for="travelDate" class="form-label">Preferred Date</label>
                <input type="date" class="form-control" id="travelDate">
              </div>
              
              <div class="col-md-6">
                <label for="duration" class="form-label">Duration (days)</label>
                <input type="number" class="form-control" id="duration" min="1">
              </div>
              
              <div class="col-md-6">
                <label for="travelers" class="form-label">Number of Travelers</label>
                <input type="number" class="form-control" id="travelers" min="1">
              </div>
              
              <div class="col-12">
                <label for="requirements" class="form-label">Special Requirements</label>
                <textarea class="form-control" id="requirements" rows="4" placeholder="Tell us about any special requirements or preferences for your trip..."></textarea>
              </div>
              
              <div class="col-md-6">
                <label for="budget" class="form-label">Budget Range</label>
                <select class="form-select" id="budget">
                  <option value="">Select a budget range</option>
                  <option value="economy">Economy ($1,000 - $3,000)</option>
                  <option value="standard">Standard ($3,000 - $6,000)</option>
                  <option value="luxury">Luxury ($6,000+)</option>
                </select>
              </div>
              
              <div class="col-md-6">
                <label for="hearAbout" class="form-label">How did you hear about us?</label>
                <select class="form-select" id="hearAbout">
                  <option value="">Select an option</option>
                  <option value="google">Google</option>
                  <option value="social">Social Media</option>
                  <option value="friend">Friend/Family</option>
                  <option value="other">Other</option>
                </select>
              </div>
              
              <div class="col-12 mt-4">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="newsletter" checked>
                  <label class="form-check-label" for="newsletter">
                    Subscribe to our newsletter for travel updates and special offers
                  </label>
                </div>
              </div>
              
              <div class="col-12 mt-4">
                <button type="submit" class="btn btn-primary btn-lg">Submit Request</button>
              </div>
            </div>
          </form>
          
          <div class="request-success mt-4" style="display:none">
            <div class="alert alert-success">
              <h3><i class="bi bi-check-circle-fill me-2"></i> Thank you for your request!</h3>
              <p>We've received your custom tour request and will contact you soon to discuss the details.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Auto-fill form fields from URL parameters
  document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    
    // Fill form fields if parameters exist
    if (urlParams.has('destination')) {
      document.getElementById('destination').value = urlParams.get('destination');
    }
    
    if (urlParams.has('date')) {
      document.getElementById('travelDate').value = urlParams.get('date');
    }
    
    if (urlParams.has('duration')) {
      document.getElementById('duration').value = urlParams.get('duration');
    }
    
    if (urlParams.has('travelers')) {
      document.getElementById('travelers').value = urlParams.get('travelers');
    }
    
    // Form submission handler
    const form = document.getElementById('customTourForm');
    form.addEventListener('submit', function(event) {
      event.preventDefault();
      
      if (form.checkValidity()) {
        // Here you would normally send the form data to your backend
        // For demo purposes, we'll just show the success message
        
        // Hide the form
        form.style.display = 'none';
        
        // Show success message
        document.querySelector('.request-success').style.display = 'block';
        
        // In a real implementation, you would send the data to your backend:
        /*
        fetch('/api/custom-tour-request', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            destination: document.getElementById('destination').value,
            travelDate: document.getElementById('travelDate').value,
            duration: document.getElementById('duration').value,
            travelers: document.getElementById('travelers').value,
            requirements: document.getElementById('requirements').value,
            budget: document.getElementById('budget').value,
            hearAbout: document.getElementById('hearAbout').value,
            newsletter: document.getElementById('newsletter').checked
          })
        })
        .then(response => response.json())
        .then(data => {
          // Show success message
          document.querySelector('.request-success').style.display = 'block';
        })
        .catch(error => {
          console.error('Error:', error);
          // Show error message
        });
        */
      }
      
      form.classList.add('was-validated');
    });
  });
</script>

<style>
  .custom-tour-request {
    padding-top: 40px;
    padding-bottom: 60px;
  }
  
  .request-form {
    border-radius: 12px;
    border: none;
  }
  
  .request-form .form-control,
  .request-form .form-select {
    padding: 12px;
    border-radius: 6px;
  }
  
  .request-form .form-control:focus,
  .request-form .form-select:focus {
    border-color: #449EED;
    box-shadow: 0 0 0 0.25rem rgba(68, 158, 237, 0.25);
  }
  
  .request-form label {
    font-weight: 500;
    margin-bottom: 6px;
  }
  
  .request-form .btn-primary {
    background-color: #449EED;
    border-color: #449EED;
    padding: 12px 24px;
    border-radius: 6px;
    transition: all 0.3s ease;
  }
  
  .request-form .btn-primary:hover {
    background-color: #357ABD;
    border-color: #357ABD;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(53, 122, 189, 0.3);
  }
  
  .request-success .bi {
    color: #198754;
  }
  
  @media (max-width: 767px) {
    .custom-tour-request {
      padding-top: 20px;
    }
    
    .request-form {
      padding: 15px;
    }
  }
</style>